import{m as O,$ as pe,r as n,j as u}from"./app-vMizS-68.js";import{q as me,r as $e,t as be,v as G,w as J,x as ve,T as he,y as xe}from"./index-WucrAjqt.js";import{A as Te,$ as Pe,j as Z,a as g,b as ye,B as Ce,C as ge,w as Oe,m as we,D as Ee,h as De,o as Ae,l as D,k as Re,f as je}from"./index-BCcLM1JF.js";import{m as Ie}from"./VisuallyHidden-DS8FurIt.js";import{w as Me}from"./chunk-HUKVTWEI-CzFsrp30.js";import{L as Ne,a as Se,m as He,A as Le}from"./chunk-6NL67ZRH-CHNBLRO5.js";const V=O.createContext(null);function ke(e){let{children:o}=e,t=n.useContext(V),[a,d]=n.useState(0),f=n.useMemo(()=>({parent:t,modalCount:a,addModal(){d(r=>r+1),t&&t.addModal()},removeModal(){d(r=>r-1),t&&t.removeModal()}}),[t,a]);return O.createElement(V.Provider,{value:f},o)}function _e(){let e=n.useContext(V);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function Fe(e){let{modalProviderProps:o}=_e();return O.createElement("div",{"data-overlay-container":!0,...e,...o})}function Ve(e){return O.createElement(ke,null,O.createElement(Fe,e))}function Q(e){let o=Te(),{portalContainer:t=o?null:document.body,...a}=e;if(O.useEffect(()=>{if(t!=null&&t.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[t]),!t)return null;let d=O.createElement(Ve,a);return pe.createPortal(d,t)}const ze=1500,X=500;let y={},Be=0,I=!1,h=null,C=null;function Ke(e={}){let{delay:o=ze,closeDelay:t=X}=e,{isOpen:a,open:d,close:f}=me(e),r=n.useMemo(()=>`${++Be}`,[]),l=n.useRef(),b=()=>{y[r]=x},p=()=>{for(let i in y)i!==r&&(y[i](!0),delete y[i])},s=()=>{clearTimeout(l.current),l.current=null,p(),b(),I=!0,d(),h&&(clearTimeout(h),h=null),C&&(clearTimeout(C),C=null)},x=i=>{i||t<=0?(clearTimeout(l.current),l.current=null,f()):l.current||(l.current=setTimeout(()=>{l.current=null,f()},t)),h&&(clearTimeout(h),h=null),I&&(C&&clearTimeout(C),C=setTimeout(()=>{delete y[r],C=null,I=!1},Math.max(X,t)))},v=()=>{p(),b(),!a&&!h&&!I?h=setTimeout(()=>{h=null,I=!0,s()},o):a||s()};return n.useEffect(()=>()=>{clearTimeout(l.current),y[r]&&delete y[r]},[r]),{isOpen:a,open:i=>{!i&&o>0&&!l.current?v():s()},close:x}}function We(e,o){let t=Pe(e,{labelable:!0}),{hoverProps:a}=Z({onHoverStart:()=>o==null?void 0:o.open(!0),onHoverEnd:()=>o==null?void 0:o.close()});return{tooltipProps:g(t,a,{role:"tooltip"})}}function Ue(e,o,t){let{isDisabled:a,trigger:d}=e,f=ye(),r=n.useRef(!1),l=n.useRef(!1),b=()=>{(r.current||l.current)&&o.open(l.current)},p=c=>{!r.current&&!l.current&&o.close(c)};n.useEffect(()=>{let c=T=>{t&&t.current&&T.key==="Escape"&&(T.stopPropagation(),o.close(!0))};if(o.isOpen)return document.addEventListener("keydown",c,!0),()=>{document.removeEventListener("keydown",c,!0)}},[t,o]);let s=()=>{d!=="focus"&&(ge()==="pointer"?r.current=!0:r.current=!1,b())},x=()=>{d!=="focus"&&(l.current=!1,r.current=!1,p())},v=()=>{l.current=!1,r.current=!1,p(!0)},i=()=>{Oe()&&(l.current=!0,b())},m=()=>{l.current=!1,r.current=!1,p(!0)},{hoverProps:w}=Z({isDisabled:a,onHoverStart:s,onHoverEnd:x}),{focusableProps:E}=Ce({isDisabled:a,onFocus:i,onBlur:m},t);return{triggerProps:{"aria-describedby":o.isOpen?f:void 0,...g(E,w,{onPointerDown:v,onKeyDown:v})},tooltipProps:{id:f}}}function qe(e){const[o,t]=we(e,G.variantKeys),{ref:a,as:d,isOpen:f,content:r,children:l,defaultOpen:b,onOpenChange:p,isDisabled:s,trigger:x,shouldFlip:v=!0,containerPadding:i=12,placement:m="top",delay:w=0,closeDelay:E=500,showArrow:c=!1,offset:T=7,crossOffset:_=0,isDismissable:A,shouldCloseOnBlur:te=!0,portalContainer:oe,isKeyboardDismissDisabled:re=!1,updatePositionDeps:z=[],shouldCloseOnInteractOutside:le,className:ne,onClose:B,motionProps:ae,classNames:R,...F}=o,se=d||"div",j=Ke({delay:w,closeDelay:E,isDisabled:s,defaultOpen:b,isOpen:f,onOpenChange:P=>{p==null||p(P),P||B==null||B()}}),M=n.useRef(null),N=n.useRef(null),S=n.useId(),$=j.isOpen&&!s;n.useImperativeHandle(a,()=>Ee(N));const{triggerProps:K,tooltipProps:ie}=Ue({isDisabled:s,trigger:x},j,M),{tooltipProps:W}=We({isOpen:$,...g(o,ie)},j),{overlayProps:U,placement:H,updatePosition:ce}=$e({isOpen:$,targetRef:M,placement:ve(m),overlayRef:N,offset:c?T+3:T,crossOffset:_,shouldFlip:v,containerPadding:i});De(()=>{z.length&&ce()},z);const{overlayProps:q}=be({isOpen:$,onClose:j.close,isDismissable:A,shouldCloseOnBlur:te,isKeyboardDismissDisabled:re,shouldCloseOnInteractOutside:le},N),L=n.useMemo(()=>{var P,k,Y;return G({...t,radius:(P=e==null?void 0:e.radius)!=null?P:"md",size:(k=e==null?void 0:e.size)!=null?k:"md",shadow:(Y=e==null?void 0:e.shadow)!=null?Y:"sm"})},[Ae(t),e==null?void 0:e.radius,e==null?void 0:e.size,e==null?void 0:e.shadow]),de=n.useCallback((P={},k=null)=>({...g(K,P),ref:Ie(k,M),"aria-describedby":$?S:void 0}),[K,$,S,j]),ue=n.useCallback(()=>({ref:N,"data-slot":"base","data-open":D($),"data-arrow":D(c),"data-disabled":D(s),"data-placement":J(H,m),...g(W,q,F),style:g(U.style,F.style,o.style),className:L.base({class:R==null?void 0:R.base}),id:S}),[L,$,c,s,H,m,W,q,F,U,o,S]),fe=n.useCallback(()=>({"data-slot":"content","data-open":D($),"data-arrow":D(c),"data-disabled":D(s),"data-placement":J(H,m),className:L.content({class:Re(R==null?void 0:R.content,ne)})}),[L,$,c,s,H,m,R]);return{Component:se,content:r,children:l,isOpen:$,triggerRef:M,showArrow:c,portalContainer:oe,placement:m,disableAnimation:e==null?void 0:e.disableAnimation,isDisabled:s,motionProps:ae,getTooltipContentProps:fe,getTriggerProps:de,getTooltipProps:ue}}var ee=je((e,o)=>{const{Component:t,children:a,content:d,isOpen:f,portalContainer:r,placement:l,disableAnimation:b,motionProps:p,getTriggerProps:s,getTooltipProps:x,getTooltipContentProps:v}=qe({...e,ref:o});let i;try{if(n.Children.count(a)!==1)throw new Error;if(!n.isValidElement(a))i=u.jsx("p",{...s(),children:a});else{const A=a;i=n.cloneElement(A,s(A.props,A.ref))}}catch{i=u.jsx("span",{}),Me("Tooltip must have only one child node. Please, check your code.")}const{ref:m,id:w,style:E,...c}=x(),T=u.jsx("div",{ref:m,id:w,style:E,children:u.jsx(Ne,{features:Se,children:u.jsx(He.div,{animate:"enter",exit:"exit",initial:"exit",variants:he.scaleSpring,...g(p,c),style:{...xe(l)},children:u.jsx(t,{...v(),children:d})})})});return u.jsxs(u.Fragment,{children:[i,b&&f?u.jsx(Q,{portalContainer:r,children:u.jsx("div",{ref:m,id:w,style:E,...c,children:u.jsx(t,{...v(),children:d})})}):u.jsx(Le,{children:f?u.jsx(Q,{portalContainer:r,children:T}):null})]})});ee.displayName="NextUI.Tooltip";var et=ee;export{et as t};
